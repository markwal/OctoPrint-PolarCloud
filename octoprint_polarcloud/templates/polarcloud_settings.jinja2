<form id="settings_plugin_polarcloud" class="form-horizontal">
    <a class="row" href="https://polar3d.com" target="_blank">
        <div id="polarcloud-logo" data-toggle="tooltip" title="{{ _('The Polar Cloud logo is a trademark of Polar3D LLC') }}">
        <div class="span6" style="margin-bottom: 20px;">
            <!--?xml version="1.0" encoding="UTF-8" standalone="no"?-->
            <svg viewBox="0 0 208 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <!-- Generator: Sketch 39.1 (31720) - http://www.bohemiancoding.com/sketch -->
                <title>polar_cloud_logo</title>
                <desc>Created with Sketch.</desc>
                <defs></defs>
                <g class="Polar-Icons-SVG" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <g class="polar_cloud_logo" onmouseover="evt.target.setAttribute('opacity', '0.5');" onmouseout="evt.target.setAttribute('opacity','1)');" fill="grey">
                        <g class="Polar-Cloud">
                            <g id="Group-4" transform="translate(0.000000, 6.387879)">
                                <polygon id="Fill-1" points="31.7867041 0.100120606 35.1930122 0.100120606 35.1930122 14.728363 40.7121225 14.728363 39.4462994 17.9873085 31.7867041 17.9873085" opacity="1)"></polygon>
                                <polygon id="Fill-2" points="51.4705386 4.85657273 56.6714866 17.9874212 60.0920153 17.9874212 53.1876288 0.100045455 49.7420718 0.100045455 42.7950235 17.9874212 46.3497947 17.9874212" opacity="1)"></polygon>
                                <path d="M5.51399088,0.0917036364 L0,0.0917036364 L0,3.23998848 L5.51399088,3.23998848 C6.62187056,3.23998848 7.52004376,4.1299703 7.52004376,5.22774606 C7.52004376,6.32552182 6.62187056,7.21531576 5.51399088,7.21531576 L0,7.21531576 L0,17.9958006 L3.43266363,17.9958006 L3.43266363,10.3636006 L5.51399088,10.3636006 C8.3766928,10.3636006 10.6973054,8.06415212 10.6973054,5.22774606 C10.6973054,2.39115212 8.3766928,0.0917036364 5.51399088,0.0917036364" id="Fill-3" opacity="1)"></path>
                                <path d="M20.6434027,14.9020758 C17.378163,14.9020758 14.731235,12.2792879 14.731235,9.04382727 C14.731235,5.80817879 17.378163,3.18539091 20.6434027,3.18539091 C23.9086425,3.18539091 26.5555705,5.80817879 26.5555705,9.04382727 C26.5555705,12.2792879 23.9086425,14.9020758 20.6434027,14.9020758 M20.6434027,0.119584848 C15.6694155,0.119584848 11.6372113,4.11501515 11.6372113,9.04382727 C11.6372113,13.9724515 15.6694155,17.9678818 20.6434027,17.9678818 C25.61739,17.9678818 29.6495942,13.9724515 29.6495942,9.04382727 C29.6495942,4.11501515 25.61739,0.119584848 20.6434027,0.119584848" id="Fill-5" opacity="1)"></path>
                                <path d="M66.1326235,10.0342867 C68.081794,9.29629879 69.4668806,7.42690485 69.4668806,5.2360503 C69.4668806,2.39964424 67.1460784,0.100195758 64.2835661,0.100195758 L58.7695752,0.100195758 L58.7695752,0.102262424 L58.7695752,3.24829273 L64.2835661,3.24829273 C65.3914458,3.24829273 66.289619,4.13827455 66.289619,5.2360503 C66.289619,6.33382606 65.3914458,7.22380788 64.2835661,7.22380788 L61.5183227,7.22380788 L65.7820383,17.9873836 L69.202567,17.9873836 L66.1326235,10.0342867 L66.1326235,10.0342867 Z" id="Fill-7" opacity="1)"></path>
                            </g>
                            <g class="Group-3" transform="translate(76.791249, 6.575758)">
                                <polygon id="Fill-9" points="17.4106441 0.13860108 20.7149389 0.13860108 20.7149389 14.4682761 26.06887 14.4682761 24.8406505 17.6610663 17.4106441 17.6610663" opacity="1)"></polygon>
                                <path d="M36.0111379,14.6385583 C32.8438461,14.6385583 30.2762425,12.0692942 30.2762425,8.89995393 C30.2762425,5.73001238 32.8438461,3.16074831 36.0111379,3.16074831 C39.1784298,3.16074831 41.7460333,5.73001238 41.7460333,8.89995393 C41.7460333,12.0692942 39.1784298,14.6385583 36.0111379,14.6385583 M36.0111379,0.157962256 C31.1859902,0.157962256 27.2747964,4.07168561 27.2747964,8.89995393 C27.2747964,13.727621 31.1859902,17.6419456 36.0111379,17.6419456 C40.8362857,17.6419456 44.7474795,13.727621 44.7474795,8.89995393 C44.7474795,4.07168561 40.8362857,0.157962256 36.0111379,0.157962256" id="Fill-12" opacity="1)"></path>
                                <path d="M72.7032918,14.6466154 L72.7032918,14.6466154 L71.5261481,14.6466154 L71.5261481,3.16098882 L72.7032918,3.15257092 C75.8753908,3.15257092 78.4465997,5.72604394 78.4465997,8.89959316 C78.4465997,12.0737437 75.8753908,14.6466154 72.7032918,14.6466154 M72.7032918,0.145575913 L68.1154957,0.145575913 L68.1154957,17.650604 L68.1154957,17.6542117 L72.7032918,17.6542117 C77.5350493,17.6542117 81.4516512,13.7344755 81.4516512,8.89959316 C81.4516512,4.06471077 77.5350493,0.145575913 72.7032918,0.145575913" id="Fill-14"></path>
                                <path d="M8.88743825,17.6540313 L10.064582,17.6540313 L13.4752344,17.6540313 L13.4752344,14.646435 L10.064582,14.646435 L10.0549678,14.646435 L8.88743825,14.646435 C5.71533927,14.646435 3.14413041,12.0735633 3.14413041,8.90001406 C3.14413041,5.72586356 5.71533927,3.15299181 8.88743825,3.15299181 L8.88743825,3.15299181 L13.4752344,3.15299181 L13.4752344,0.149003202 L13.4752344,0.14539553 L8.88743825,0.14539553 C4.05568073,0.14539553 0.139078878,4.06513167 0.139078878,8.90001406 C0.139078878,13.7342952 4.05568073,17.6540313 8.88743825,17.6540313" id="Fill-16" opacity="1)"></path>
                                <path d="M64.7928737,8.88750746 L64.7928737,7.7096024 L64.7928737,0.149123458 L61.7872213,0.149123458 L61.7872213,7.7096024 L61.7872213,7.71922286 L61.7872213,8.88750746 C61.7872213,12.061658 59.2160125,14.6345297 56.0445144,14.6345297 C52.8724154,14.6345297 50.3012065,12.061658 50.3012065,8.88750746 L50.3012065,0.149123458 L47.2991594,0.149123458 L47.2955541,0.149123458 L47.2955541,8.88750746 C47.2955541,13.7223898 51.2127568,17.6415247 56.0445144,17.6415247 C60.8762719,17.6415247 64.7928737,13.7223898 64.7928737,8.88750746" id="Fill-18"></path>
                            </g>
                            <path d="M197.074596,28.2173273 C192.771063,28.2173273 178.842268,28.220897 177.371858,28.220897 C172.870374,28.220897 169.221367,24.6049818 169.221367,20.1447394 C169.221367,15.6843091 172.870374,12.0683939 177.371858,12.0683939 C177.978224,12.0683939 178.568284,12.1360303 179.136919,12.2605939 C179.135402,12.2525152 179.134454,12.2444364 179.133127,12.2363576 C181.993174,13.0397273 184.095169,15.6484242 184.095169,18.7362121 L186.749681,18.7362121 C186.749681,14.1792121 183.454862,10.3718485 179.102221,9.52601818 C179.717309,5.6694303 183.086454,2.72048485 187.15146,2.72048485 C191.652944,2.72048485 195.301951,6.3364 195.301951,10.7966424 C195.301951,11.2967758 195.25379,11.7856364 195.166002,12.2605939 C195.734447,12.1360303 196.324696,12.0683939 196.931063,12.0683939 C201.432547,12.0683939 205.081553,15.6843091 205.081553,20.1447394 C205.081553,24.5574485 201.378129,28.2173273 197.074596,28.2173273 M197.956084,9.39544242 C197.260602,4.1017697 192.680241,0 187.15146,0 C181.62268,0 177.042319,4.1017697 176.346837,9.39544242 C170.817677,9.90910303 166.475843,14.5341152 166.475843,20.1447394 C166.475843,26.0980545 171.363748,30.9413818 177.371858,30.9413818 C177.914326,30.9413818 180.15227,30.9408182 182.97705,30.9402545 C187.809211,30.9391273 194.35884,30.9378121 197.074596,30.9378121 C199.862213,30.9378121 202.6212,29.7754061 204.643938,27.7487576 C206.696634,25.6922364 207.827077,22.9916667 207.827077,20.1447394 C207.827077,14.5341152 203.485243,9.90910303 197.956084,9.39544242" id="Fill-20" opacity="1)"></path>
                        </g>
                    </g>
                </g>
            </svg>
        </div></div>
    </a>
    <div class="control-group">
        <label class="control-label">{{ _('Machine Type:') }}</label>
        <div class="controls">
            <select data-bind="value: machineType, options: machineTypes, event: {change: onChangeMachineType}"></select>
        </div>
    </div>
    <div class="control-group">
        <label class="control-label">{{ _('Printer Make:') }}</label>
        <div class="controls">
            <select data-bind="value: printerType, options: printerTypes, optionsValue: printerTypeOptionsValue, optionsText: printerTypeOptionsText, disable: isPrinterTypesLoading"></select>
            <div data-bind="visible: settings.serial">
                <small>** Any changes made requires a restart to take effect **</small>
            </div>
        </div>
    </div>
    <div class="control-group" data-bind="visible: settings.email">
        <label class="control-label">{{ _('Cloud Username/Email:') }}</label>
        <div class="controls">
            <input type="text" class="input" data-bind="value: settings.email" readonly>
        </div>
    </div>
    <div class="control-group" data-bind="visible: settings.pin">
        <label class="control-label">{{ _('4 Digit PIN:') }}</label>
        <div class="controls">
            <input type="text" class="input" data-bind="value: settings.pin" readonly>
        </div>
    </div>
    <div class="control-group" data-bind="visible: settings.serial">
        <label class="control-label">{{ _('Serial number:') }}</label>
        <div class="controls">
            <input type="text" class="input" data-bind="value: settings.serial" readonly>
        </div>
    </div>
    <div class="control-group">
        <div class="controls">
            <button class="btn" data-bind="click: changeRegistrationStatus, text: settings.serial() ? '{{ _('Unregister Printer') }}' : '{{ _('Register Printer') }}'"></button>
        </div>
    </div>
    <div class="control-group">
        <div class="controls">
            <label class="checkbox">
                <input type="checkbox" data-bind="checked: settings.upload_timelapse">{{ _('Upload timelapse videos to Polar Cloud.<br>Requires GStreamer install, see <A href="https://github.com/markwal/OctoPrint-PolarCloud/blob/master/README.md">README</A>.') }}
            </label>
        </div>
    </div>
    <div class="control-group">
        <div class="controls">
            <label class="checkbox">
                <input type="checkbox" data-bind="checked: settings.enable_system_commands">{{ _('Allow Polar Cloud to send system commands to OctoPrint<br>It\'s those commands on the power button icon ') }}<i class="icon-off"></i>{{ _(' at the top.') }}
            </label>
        </div>
    </div>
    <div class="control-group">
        <div class="controls">
            <label class="checkbox">
                <input type="checkbox" data-bind="checked: settings.next_print">{{ _('Turn on Continuous Printing Mode for Belt Printers (<span style="color: #da4f49">CAUTION</span>: only for belt or continuous printers. more info <a href="https://all3dp.com/2/3d-printer-belt-all-you-need-to-know/">here.</a>)') }}
            </label>
        </div>
    </div>
    <div class="control-group">
        <div class="controls">
            <label class="checkbox">
                <input type="checkbox" data-bind="checked: settings.verbose">{{ _('Verbose (debugging) logging') }}
            </label>
        </div>
    </div>
    <div id="plugin_polarcloud_registration" class="modal hide fade">
        <div class="modal-header">
            <a href="#" class="close" data-dismiss="modal" aria-hidden="true">&times;</a>
            <h3>{{ _('Register OctoPrint with Polar Cloud') }}</h3>
        </div>
        <div class="modal-body row-fluid">
            <div class="row-fluid">
                <div class="alert alert-error span9" data-bind="visible: registrationFailed">
                    {{ _('Failed to register OctoPrint with the Polar Cloud.') }}
                    <span data-bind="html: registrationFailedReason"></span>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">{{ _('Polar User (email):') }}</label>
                <div class="controls">
                    <input type="email" class="input" data-bind="value: emailAddress">
                </div>
            </div>
            <div class="control-group">
                <label class="control-label">{{ _('PIN:') }}</label>
                <div class="controls">
                    <input type="password" class="input" data-bind="value: pin">
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn" data-dismiss="modal">{{ _('Cancel') }}</button>
            <button class="btn btn-primary" data-bind="click: registerPrinter">{{ _('Register') }}
                <i class="icon-spinner icon-spin" data-bind="visible: registering" style="display: none;"></i>
            </button>
        </div>
    </div>
    <div id="plugin_polarcloud_unregistration" class="modal hide fade">
        <div class="modal-header">
            <a href="#" class="close" data-dismiss="modal" aria-hidden="true">&times;</a>
            <h3>{{ _('Unregister OctoPrint with Polar Cloud') }}</h3>
        </div>
        <div class="modal-body">
            <div>
                <div class="alert alert-error" data-bind="visible: unregistrationFailed">
                    {{ _('Failed to unregister OctoPrint with the Polar Cloud.') }}
                    <span data-bind="html: unregistrationFailedReason"></span>
                </div>
            </div>
            <div>
                <p>
                    {{ _('Are you sure you want to unregister this printer? This will mark your serial number as "Deleted" in the cloud and allow someone else to register this octoprint instance with their own username and PIN.') }}
                </p>
                <p>
                    {{ _('Please note that if you try to register it again using your same credentials, you will be granted the same serial number you had before.') }}
                </p>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn" data-dismiss="modal">{{ _('Cancel') }}</button>
            <button class="btn btn-danger" data-bind="click: unregisterPrinter">{{ _('Unregister') }}
                <i class="icon-spinner icon-spin" data-bind="visible: unregistering" style="display: none;"></i>
            </button>
        </div>
    </div>
</form>
